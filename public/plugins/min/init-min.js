!function($){$(function(){function a(){i();var a=$("#r_username").val().length;5>a||a>20||1==p?1==p?($("#r_username").removeClass("valid"),$("#r_username").addClass("invalid"),$("#username_label").attr("data-error","username taken"),o=!0):($("#r_username").removeClass("valid"),$("#r_username").addClass("invalid"),$("#username_label").attr("data-error","required at least 5 characters"),o=!0):($("#r_username").removeClass("invalid"),$("#r_username").addClass("valid"))}function s(){var a=$("#r_password").val().length;8>a?($("#r_password").removeClass("valid"),$("#r_password").addClass("invalid"),u=!0):($("#r_password").removeClass("invalid"),$("#r_password").addClass("valid"))}function r(){var a=$("#r_fname").val().length;a>=1?($("#r_fname").removeClass("invalid"),$("#r_fname").addClass("valid")):($("#r_fname").removeClass("valid"),$("#r_fname").addClass("invalid"),c=!0)}function e(){var a=$("#r_lname").val().length;a>=1?($("#r_lname").removeClass("invalid"),$("#r_lname").addClass("valid")):($("#r_lname").removeClass("valid"),$("#r_lname").addClass("invalid"),_=!0)}function l(){var a=$("#r_password").val(),s=$("#r_cpassword").val(),r=$("#r_cpassword").val().length;a!=s||8>r?($("#r_cpassword").removeClass("valid"),$("#r_cpassword").addClass("invalid"),v=!0):($("#r_cpassword").removeClass("invalid"),$("#r_cpassword").addClass("valid"))}function n(){d();var a=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);a.test($("#r_email").val())?1==C?($("#r_email").removeClass("valid"),$("#r_email").addClass("invalid"),$("#email_label").attr("data-error","email already registered"),m=!0):($("#r_email").removeClass("invalid"),$("#r_email").addClass("valid")):($("#r_email").removeClass("valid"),$("#r_email").addClass("invalid"),$("#email_label").attr("data-error","please insert a valid email address"),m=!0)}function i(){$.ajax({type:"POST",url:"http://localhost/tikettari/index.php/user/usernameCheck",dataType:"text",async:!1,data:{username:$("#r_username").val()},success:function(a){p="TRUE"==a?!0:!1}})}function d(){$.ajax({type:"POST",url:"http://localhost/tikettari/index.php/user/emailCheck",dataType:"text",async:!1,data:{email:$("#r_email").val()},success:function(a){C="TRUE"==a?!0:!1}})}function t(){$.ajax({type:"POST",url:"http://localhost/tikettari/index.php/user/login_check",dataType:"text",async:!1,data:{username:$("#username").val(),password:$("#password").val()},success:function(a){f="TRUE"==a?!1:!0}})}var o=!1,u=!1,v=!1,m=!1,c=!1,_=!1,p,C,f;$("#r_fname").focusout(function(){r()}),$("#r_lname").focusout(function(){e()}),$("#r_username").focusout(function(){a()}),$("#r_password").focusout(function(){s()}),$("#r_cpassword").focusout(function(){l()}),$("#r_email").focusout(function(){n()}),$("#form-signup").submit(function(i){return o=!1,u=!1,v=!1,m=!1,c=!1,_=!1,a(),s(),l(),n(),r(),e(),0==o&&0==u&&0==v&&0==m&&0==c&&0==_?!0:!1}),$("#btn_login").click(function(){return t(),1==f?($("#username").removeClass("valid"),$("#password").removeClass("valid"),$("#username").addClass("invalid"),$("#password").addClass("invalid"),$("#lbl_username").attr("data-error","username or password wrong"),$("#lbl_password").attr("data-error","username or password wrong"),!1):($("#username").removeClass("invalid"),$("#password").removeClass("invalid"),!0)}),$(".button-collapse").sideNav(),$(".parallax").parallax(),$(".modal-trigger").leanModal({dismissible:!1,opacity:.5,in_duration:300,out_duration:200,starting_top:"4%",ending_top:"10%"})})}(jQuery);